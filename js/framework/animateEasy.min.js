var ae=AE=function(a){var b=function(a){return this instanceof ae?("object"==typeof a?this.target=a[0]?Array.prototype.slice.call(a):[a]:"string"==typeof a&&(this.target="."===a[0]?Array.prototype.slice.call(document.getElementsByClassName(a.substring(1))):"#"===a[0]?[document.getElementById(a.substring(1))]:Array.prototype.slice.call(document.querySelectorAll(a))),this):new ae(a)};return b.prototype={show:function(){return this.target},add:function(b){function c(a){return Object.keys(a).map(function(b){return b+":"+a[b]}).join(";")}var d,e,f,g,h,i,j,k,l,m,n=this.target;if(b.id?d=b.id:(ae.animateNum||(ae.animateNum=0),d="animate"+ae.animateNum,ae.animateNum++),b["final"]&&(e=!0),b[0])b[0]=c(b[0]);else{var o=c(b[Object.keys(b)[0]]).replace(/\s*/g,"").split(";").map(function(a){return a.replace(/:\w*/,"")}),p=a.getComputedStyle(this.target[0],null);b[0]=o.map(function(a){return a+":"+p[a]}).join(";")}f=Object.keys(b).filter(function(a){return!isNaN(parseInt(a,10))}).sort(function(a,b){return a-b}),g=document.styleSheets[0],h=f.length,i=n.length;for(var q=0,r=q+1;h>r;q++,r++)"object"==typeof b[f[r]]&&(j=b[f[r]].curve,b[f[r]]=c(b[f[r]])),k="aeAni-"+d+"-"+q,l="@-webkit-keyframes "+k+"{0%{"+b[f[q]]+"}100%{"+b[f[r]]+"}}",m="."+k+"{-webkit-animation:"+k+" "+(f[r]-f[q])/1e3+"s ",j?(m+=j,m+=e?";-webkit-animation-fill-mode:forwards;}":"}"):m+=e?";-webkit-animation-fill-mode:forwards;}":"}",g.insertRule(l,0),g.insertRule(m,0);for(var s=0;i>s;s++)n[s].dataset.animate=n[s].dataset.animate?n[s].dataset.animate+" "+k:k;return this},play:function(a,b){function c(a,b,c){a.addEventListener("webkit"+b,c,!1),a.addEventListener(b.toLowerCase(),c,!1)}function d(a,b,c){a.removeEventListener("webkit"+b,c,!1),a.removeEventListener(b.toLowerCase(),c,!1)}function e(b){function e(){g>j?(j++,k.classList.remove(i+(j-1)),k.classList.add(i+j)):d(k,"AnimationEnd",e)}var f,g,i,j,k=h[b],l=k.dataset.animate.split(" ");return f=a?l.filter(function(b){return!!b.match("-"+a+"-")})[0]:l[l.length-1],g=f.match(/\d+$/g)[0],i=f.replace(/\d+$/g,""),j=0,k.classList.add(i+j),c(k,"AnimationEnd",e),g}function f(){j==g&&(b(),d(h[0],"AnimationEnd",f)),j+=1}b=b||function(){};for(var g,h=this.target,i=h.length,j=0,k=0;i>k;k++)g=e(k);return c(h[0],"AnimationEnd",f),this},pause:function(){for(var a=this.target,b=a.length,c=0;b>c;c++)a[c].style.webkitAnimationPlayState="paused";return this},run:function(){for(var a=this.target,b=a.length,c=0;b>c;c++)a[c].style.webkitAnimationPlayState="running";return this}},b}(window);